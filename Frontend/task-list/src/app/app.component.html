<nav class="sticky-top">
  <mat-toolbar style="background:inherit">
    <span class="logo" [routerLink]="['/home']">TASK LIST</span>
    <span class="nav-spacer"></span>
    <div class="search">
      <input type="text" placeholder="Search tasks" (keyup.enter)="searchTasks()">
      <div class="search-result-container" *ngIf="showResults">
        <div class="container">
          <div class="row" *ngFor="let task of searchResults" [routerLink]="['/dashboard']" [queryParams]="{taskId: task.taskId}" (click)="showResults=false">
            <div class="col-12">{{task.title}}</div>
            <small class="col-auto" *ngIf="task.dueDate">Due on {{task.dueDate | date}}</small>
          </div>
        </div>
      </div>
    </div>
    <button mat-icon-button matTooltip="Dashboard" *ngIf="url.includes('friends')" [routerLink]="['/dashboard']">
      <mat-icon>dashboard</mat-icon>
    </button>
    <button mat-icon-button matTooltip="Friends" *ngIf="url.includes('dashboard')" [routerLink]="['/friends']">
      <mat-icon>group</mat-icon>
    </button>
    <button mat-icon-button matTooltip="Notifications">
      <mat-icon>notifications</mat-icon>
    </button>
    <button class="nav-btn" mat-stroked-button color="primary" *ngIf="url.includes('home')" [routerLink]="['/login']"
      (click)="reload()">Login</button>
    <button mat-icon-button (click)="logout()" *ngIf="!url.includes('home') && !url.includes('login')">
      <mat-icon>power_settings_new</mat-icon>
    </button>
    <!-- <button class="nav-btn" mat-stroked-button color="primary" *ngIf="!url.includes('home') && !url.includes('login')"
      (click)="logout()">Logout</button> -->
  </mat-toolbar>
</nav>

<router-outlet></router-outlet>

<footer *ngIf="url.includes('home')||url.includes('login')">
  <div class="container py-3">
    <div class="row">
      <div class="col">
        <small>&copy; Nitin Shokeen 2018</small>
      </div>
      <div class="col">
        <div class="row justify-content-end">
          <button mat-button color="primary">Github Repository</button>
        </div>
      </div>
    </div>
  </div>
</footer>